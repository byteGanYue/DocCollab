# 文档历史版本管理

## 功能简介
文档历史版本功能用于记录和管理每个文档的所有历史版本。无论是多人协作还是个人编辑，您都可以随时：
- 查看历史版本
- 恢复到任意历史版本  
保障内容安全，便于追溯和回滚。

---

## 主要功能
- **版本列表展示**：表格形式展示历史版本，包含：
  - 版本号（如 v1.0, v1.1）
  - 文档名称
  - 更新人
  - 更新时间（智能显示，如"5分钟前"）
- **版本详情查看**：查看任意历史版本的详细内容
- **版本恢复**：恢复到任意历史版本（自动生成新版本）
- **分页浏览**：支持大量历史版本的分页加载
- **导航与返回**：提供清晰的导航路径和“返回编辑器”入口

---

## 操作指引

### 1. 进入历史版本页面
#### 方式一：右键菜单
1. 在文档目录树中点击右边操作按钮  
2. 选择「历史版本记录」  
3. 自动跳转到 `/history-version/文档ID` 页面

#### 方式二：直接访问
在浏览器地址栏输入：

### 2. 浏览历史版本
- 顶部显示文档标题和导航路径
- 版本表格包含：
  | 字段     | 说明                          |
  |----------|-------------------------------|
  | 版本号   | v1.0, v1.1 等版本标识         |
  | 文档名称 | 该版本保存时的文档名称        |
  | 更新人   | 操作者姓名                    |
  | 更新时间 | 智能时间显示（如"5分钟前"）  |
- **当前使用版本**：带有绿色标签标识
- **操作菜单**：每行提供「查看详情」「恢复版本」等操作

### 3. 查看版本详情
点击操作菜单的「查看详情」可：
- 跳转到该版本的只读页面
- 或在编辑器中以只读模式打开

### 4. 恢复历史版本
1. 在操作菜单中选择「恢复版本」
2. 确认弹窗提示
3. 系统将：
   - 恢复该历史版本内容
   - 自动生成新版本（保留所有历史记录）

### 5. 返回编辑器
点击页面「返回编辑器」按钮，直接跳转回文档编辑页面

---

## 权限说明
- 🔐 **访问权限**：仅文档创建者/编辑权限用户可访问
- ✏️ **恢复权限**：需具备文档编辑权限

---

## 注意事项
⚠️ 历史版本数据分页加载，避免性能问题  
⚠️ 后端异常时显示模拟数据和友好错误提示  
⚠️ 恢复操作不会覆盖历史版本（生成新版本）  
⚠️ 所有历史版本永久保留

---
